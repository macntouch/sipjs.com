<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="MSSmartTagsPreventParsing" content="true" />
  <meta name="description" content="Setup Cordova to create a hybrid native WebRTC app on iOS." />
  <title>Use Cordova with iOS and WebRTC | SIP.js</title>
  <link rel="alternate" type="application/atom+xml" title="API Changes" href="/changes.atom" />
  <link href='http://fonts.googleapis.com/css?family=Nunito:400,700,300|Varela+Round' rel='stylesheet' type='text/css'>
  <link href="/css/reset.css" rel="stylesheet" type="text/css" />
  <link href="/css/960.css" rel="stylesheet" type="text/css" />
  <link href="/css/uv_active4d.css" rel="stylesheet" type="text/css" />
  <link href="/shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css" />
  <link href="/shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css" />
  <script src="/shared/js/jquery.js" type="text/javascript"></script>
  <script src="/shared/js/documentation.js" type="text/javascript"></script>

  <link rel="shortcut icon" type="image/x-icon" href="/shared/img/favicon-6.ico"/>
</head>


<body class="guides">
  <div id="dev"></div>
<header id="siteHeader">
  <div class="wrapper">
    <a href="/"><img id="logo" src="/shared/img/logo.png" alt="sip.js"></a>
    <nav id="mainNav">
      <ul class="horizontal">
        <li><a href="/download/">Download</a></li>
        <li><a href="/api/0.6.0/">API</a></li>
        <li><a href="/guides/">Guides</a></li>
        <li><a href="https://github.com/onsip/sip.js" target="_blank">Github</a></li>
        <li><a href="/aboutus/" class="nav-aboutus">About Us</a></li>
        <li><a href="https://groups.google.com/forum/#!forum/sip_js" target="_blank">Support</a></li>
      <ul>
    </nav>
  </div>
</header>


  <article id="main" class="wrapper group">
    <header id="sectionHeader">
      <h1><a href="/guides/">Guides</a></h1>
    </header>
    <div id="content">
      <h1 id="configure-cordova">Configure Cordova</h1>

<h2 id="requirements">Requirements</h2>

<p>To create a hybrid native iOS WebRTC app you will need:</p>

<ul>
  <li><a href="http://www.apple.com/osx/">Mac OS X</a></li>
  <li><a href="https://developer.apple.com/programs/ios/">Apple iOS Developer Account</a></li>
  <li><a href="http://store.apple.com/us/iphone">Physical iOS device (this will not work on an emulator)</a></li>
  <li><a href="https://developer.apple.com/xcode/">XCode</a></li>
  <li>
<a href="http://cordova.apache.org/">Cordova</a> - If you are running <a href="http://brew.sh/">Homebrew</a>, you can run <code>brew install cordova</code>
</li>
</ul>

<h2 id="project-setup">Project Setup</h2>

<p>Open terminal and navigate to the directory you want to create your project in. Run the following commands to create a Cordova iOS project. Replace <code>Cordova-SIPjs</code> with your own project name.</p>

<p><code>cordova create Cordova-SIPjs</code></p>

<p><code>cd Cordova-SIPjs</code></p>

<p><code>cordova platform add ios</code></p>

<h2 id="add-the-webrtc-library">Add the WebRTC Library</h2>

<p>Run the following command to add the PhoneRTC WebRTC library to your Cordova project.</p>

<p><code>cordova plugin add https://github.com/alongubkin/phonertc.git</code></p>

<h2 id="set-the-compilation-architecture">Set the compilation architecture</h2>

<p>The architecture needs to be set to armv7. This is because the WebRTC libraries that are included are precompiled for this architecture. Trying to compile the libraries with other architectures will cause a linker error and your project will not compile.
Open the platforms folder then the ios folder. In the ios folder you will see an xcodeproj. Open the xcodeproj with XCode.
In XCode navigate to the build settings for <code>CordovaLib.xcodeproj</code>. </p>

<p>Set <code>Build Active Architecture Only</code> to <code>No</code></p>

<p>Set <code>Valid Architectures</code> to <code>armv7</code></p>

<p>Navigate to the build settings for <code>HelloCordova.xcodeproj</code>. </p>

<p>Set <code>Build Active Architecture Only</code> to <code>No</code></p>

<p>Set <code>Valid Architectures</code> to <code>armv7</code></p>

<ul>
  <li>You should now be able to compile and run the sample Cordova project on your iOS device. If you are still having linker errors verify the settings above and clean the project before building `</li>
</ul>

<h2 id="adding-sipjs-and-web-content">Adding SIP.js and Web Content</h2>

<p>Go back to the projectâ€™s root folder. There you should see a few folders which include <code>platforms</code>, <code>plugins</code>, <code>www</code>, among others. In the <code>www</code> folder you can place your web application and include the <code>SIP.js</code> library.</p>

<p>To stage your new web project for your iOS device in terminal run <code>cordova prepare</code>. </p>

<p>Once the project is staged, go back to XCode and run the project on your iOS device. You should now see the new web content. </p>

<ul>
  <li>Every time you update the content in the <code>www</code> folder you will need to run <code>cordova prepare</code>.</li>
</ul>

<h2 id="configure-sipjs">Configure SIP.js</h2>

<h2 id="troubleshooting">Troubleshooting</h2>

<p>If you have difficulty, please reach out to us on our <a href="https://groups.google.com/forum/#!forum/sip_js">mailing list</a>.</p>

    </div>

    <nav id="sideNav">
  <ul>
    <li><a href="/guides/">Overview</a></li>
    <li class="parent">
      <a class="parent" href="/guides/server-configuration/">Server Configuration</a>
      <ul>
        <li><a href="/guides/server-configuration/freeswitch/">FreeSWITCH</a></li>
        <li><a href="/guides/server-configuration/asterisk/">Asterisk</a></li>
        <li><a href="/guides/server-configuration/onsip-network/">OnSIP Network</a></li>
      </ul>
    </li>
    <li class="parent">
      <a class="parent" href="/guides/mobile/">Mobile</a>
      <ul>
        <li><a href="/guides/mobile/android-native/">Android (Native)</a></li>
      </ul>
    </li>
    <li><a href="/guides/convert-to-sipjs/">Convert to SIP.js</a></li>
    <li><a href="/guides/user-agent-construction/">User Agent Construction</a></li>
    <li><a href="/guides/make-call/">Make a Call</a></li>
    <li><a href="/guides/receive-call/">Receive a Call</a></li>
    <li><a href="/guides/send-dtmf/">Send Dtmf</a></li>
    <li><a href="/guides/send-message/">Send Message</a></li>
    <li><a href="/guides/transfer/">Make a Transfer</a></li>
    <li><a class="last" href="/guides/reuse-mediastreams/">Reuse MediaStreams</a></li>
  </ul>
</nav>


  </article>

  <footer class="wrapper">
  <a href="https://www.onsip.com/webrtc-sip-network" id="onsip"></a>
  <nav class="left">
    <ul class="horizontal">
      <li><a href="https://groups.google.com/forum/#!forum/sip_js" target="_blank">Mailing List</a></li>        
      <li><a href="https://github.com/onsip/sip.js/issues" target="_blank">Report Issues</a></li>
      <li><a href="/license/">License</a></li>
    </ul>
  </nav>
  <nav class="right">
    <ul class="horizontal">
      <li><a href="http://onsip.com/blog" target="_blank">Blog</a></li>
      <li><a href="/aboutus/">About</a></li>
      <li><a href="/faq/">FAQ</a></li>
    </ul>
  </nav>
  <div class="clearfix"></div>
</footer>
<script src="/shared/js/retina.js" type="text/javascript"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1008379-16', 'sipjs.com');
  ga('send', 'pageview');
</script>

</body>
</html>
