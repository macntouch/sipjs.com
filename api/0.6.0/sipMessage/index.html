<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="Content-Language" content="en-us" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="MSSmartTagsPreventParsing" content="true" />
  <meta name="description" content="SIP.js contains several data structures for representing SIP messages, including OutgoingRequests, IncomingRequests, and IncomingResponses." />
  <meta name="viewport" content="initial-scale=1" />
  <title>SIP Messages | SIP.js</title>
  <link rel="alternate" type="application/atom+xml" title="API Changes" href="/changes.atom" />
  <link href='http://fonts.googleapis.com/css?family=Nunito:400,700,300|Varela+Round' rel='stylesheet' type='text/css'>
  <link href="/css/reset.css" rel="stylesheet" type="text/css" />
  <link href="/css/960.css" rel="stylesheet" type="text/css" />
  <link href="/css/uv_active4d.css" rel="stylesheet" type="text/css" />
  <link href="/shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css" />
    
  <link href="/shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css" />
  
  <script src="/shared/js/jquery.js" type="text/javascript"></script>
  <script src="/shared/js/documentation.js" type="text/javascript"></script>
  <link rel="shortcut icon" type="image/x-icon" href="/shared/img/favicon-6.ico"/>
</head>


<body class="api">
	<div id="dev"></div>
<header id="siteHeader">
  <div class="wrapper">
    <nav id="mainNav">
      <a id="logo-link" href="/"><img id="logo" src="/shared/img/logo.png" alt="sip.js"></a>
      <ul id="full-nav" class="horizontal mobile-hide">
        <li><a href="/download/">Download</a></li>
        <li><a id="api-nav" href="/api/0.6.0/">API</a></li>
        <li><a href="/guides/">Guides</a></li>
        <li><a href="https://github.com/onsip/sip.js" target="_blank">Github</a></li>
        <li><a href="/aboutus/" class="nav-aboutus">About Us</a></li>
        <li><a href="https://groups.google.com/forum/#!forum/sip_js" target="_blank">Support</a></li>
      </ul>
    </nav>
  </div>
</header>


	<article id="main" class="wrapper group">
		<header id="sectionHeader">
			<h1><a href="/api/">API</a></h1>
			<nav id="subNav">
				<ul class="horizontal">
					<li class="first"><a href="/api/0.6.0/">0.6.x</a></li>
				</ul>
			</nav>
		</header>
		<div id="content">
			<h1 id="sip-messages">SIP Messages</h1>

<p>This page describes data structures for SIP packets:  Incoming Messages, Incoming Requests, Incoming Responses, and Outgoing Requests. While each has its own constructor, they share much similar structure, properties, and methods. As such, they are all documented together below.</p>

<ul id="markdown-toc">
<li>
<a href="#instance-variables">Instance Variables</a>    <ul>
<li><a href="#logger"><code>logger</code></a></li>
      <li><a href="#ua"><code>ua</code></a></li>
      <li><a href="#headers"><code>headers</code></a></li>
      <li><a href="#method"><code>method</code></a></li>
      <li><a href="#body"><code>body</code></a></li>
      <li><a href="#from"><code>from</code></a></li>
      <li><a href="#to"><code>to</code></a></li>
      <li><a href="#callid"><code>call_id</code></a></li>
      <li><a href="#cseq"><code>cseq</code></a></li>
      <li><a href="#ruri"><code>ruri</code></a></li>
      <li><a href="#extraheaders"><code>extraHeaders</code></a></li>
      <li><a href="#statuscode"><code>statusCode</code></a></li>
      <li><a href="#statuscode-1"><code>status_code</code></a></li>
      <li><a href="#reasonphrase"><code>reasonPhrase</code></a></li>
      <li><a href="#reasonphrase-1"><code>reason_phrase</code></a></li>
      <li><a href="#data"><code>data</code></a></li>
      <li><a href="#via"><code>via</code></a></li>
      <li><a href="#viabranch"><code>via_branch</code></a></li>
      <li><a href="#fromtag"><code>from_tag</code></a></li>
      <li><a href="#totag"><code>to_tag</code></a></li>
      <li><a href="#transport"><code>transport</code></a></li>
      <li><a href="#servertransaction"><code>server_transaction</code></a></li>
    </ul>
</li>
  <li>
<a href="#instance-methods">Instance Methods</a>    <ul>
<li><a href="#setheadername-value"><code>setHeader(name, value)</code></a></li>
      <li><a href="#addheadername-value"><code>addHeader(name, value)</code></a></li>
      <li><a href="#getheadername"><code>getHeader(name)</code></a></li>
      <li><a href="#getheadersname"><code>getHeaders(name)</code></a></li>
      <li><a href="#hasheadername"><code>hasHeader(name)</code></a></li>
      <li><a href="#parseheadername-idx"><code>parseHeader(name, idx)</code></a></li>
      <li><a href="#sname-idx"><code>s(name, idx)</code></a></li>
      <li><a href="#tostring"><code>toString()</code></a></li>
      <li><a href="#replycode-reason-extraheaders-body-onsuccess-onfailure"><code>reply(code, reason, extraHeaders, body, onSuccess, onFailure)</code></a></li>
      <li><a href="#replyslcode-reason"><code>reply_sl(code, reason)</code></a></li>
    </ul>
</li>
</ul><h2 id="instance-variables">Instance Variables</h2>

<h3 id="logger"><code>logger</code></h3>

<p><code>Logger</code> - The outlet for log messages.</p>

<h3 id="ua"><code>ua</code></h3>

<p><code>SIP.UserAgent</code> - The local User Agent the message is to or from.</p>

<h3 id="headers"><code>headers</code></h3>

<p><code>Object</code> - The internal data structure for header storage.  Use the getter and setter methods instead of directly accessing this.</p>

<h3 id="method"><code>method</code></h3>

<p><code>String</code> - The SIP method of the request or response.</p>

<h3 id="body"><code>body</code></h3>

<p><code>String</code> - The body contained in the SIP message, if present.</p>

<h3 id="from"><code>from</code></h3>

<p><code>SIP.NameAddrHeader</code> - The From header address of the SIP message.</p>

<h3 id="to"><code>to</code></h3>

<p><code>SIP.NameAddrHeader</code> - The To header address of the SIP message.</p>

<h3 id="callid"><code>call_id</code></h3>

<p><code>String</code> - The value of the Call-ID header field.</p>

<h3 id="cseq"><code>cseq</code></h3>

<p><code>String</code> - The value of the CSeq header field.</p>

<h3 id="ruri"><code>ruri</code></h3>

<p><em>IncomingRequest and OutgoingRequest only</em></p>

<p><code>String|SIP.URI</code> - The requested URI from the first line of the SIP request. For SIP.IncomingRequests, this is a String.  For SIP.OutgoingRequests, it is a SIP.URI.</p>

<h3 id="extraheaders"><code>extraHeaders</code></h3>

<p><em>OutgoingRequest only</em></p>

<p><code>Array</code> - An array of extra headers to be appended to the request.</p>

<h3 id="statuscode"><code>statusCode</code></h3>

<p><em>OutgoingRequest only</em></p>

<p><code>Integer</code> - The status code to include in a Reason header with the request.</p>

<h3 id="statuscode-1"><code>status_code</code></h3>

<p><em>Incoming Response only</em></p>

<p><code>Integer</code> - The status code of the received response.</p>

<h3 id="reasonphrase"><code>reasonPhrase</code></h3>

<p><em>OutgoingRequest only</em></p>

<p><code>String</code> - The reason phrase to include in a Reason header with the request.</p>

<h3 id="reasonphrase-1"><code>reason_phrase</code></h3>

<p><em>IncomingResponse only</em></p>

<p><code>String</code> - The reason phrase of the received response.</p>

<h3 id="data"><code>data</code></h3>

<p><em>IncomingRequest and IncomingResponse only</em></p>

<p><code>String</code> - A raw string representation of the SIP message.</p>

<h3 id="via"><code>via</code></h3>

<p><em>IncomingRequest and IncomingResponse only</em></p>

<p><code>Object</code> - The value of the Via header(s) of the SIP message.</p>

<h3 id="viabranch"><code>via_branch</code></h3>

<p><em>IncomingRequest and IncomingResponse only</em></p>

<p><code>String</code> - The value of the first Via headerâ€™s branch parameter.</p>

<h3 id="fromtag"><code>from_tag</code></h3>

<p><em>IncomingRequest and IncomingResponse only</em></p>

<p><code>String</code> - The tag parameter of the From header, if present.</p>

<h3 id="totag"><code>to_tag</code></h3>

<p><em>IncomingRequest and IncomingResponse only</em></p>

<p><code>String</code> - The tag parameter of the To header, if present.</p>

<h3 id="transport"><code>transport</code></h3>

<p><em>IncomingRequest only</em></p>

<p><code>SIP.Transport</code> - The transport the request was received on, for sending replies.</p>

<h3 id="servertransaction"><code>server_transaction</code></h3>

<p><em>IncomingRequest only</em></p>

<p><code>SIP.Transaction</code> - The transaction associated with the request.</p>

<h2 id="instance-methods">Instance Methods</h2>

<h3 id="setheadername-value"><code>setHeader(name, value)</code></h3>

<p>Sets the value of the header, overwriting any existing header with the same name.</p>

<h3 id="addheadername-value"><code>addHeader(name, value)</code></h3>

<p><em>IncomingRequest and IncomingResponse only</em></p>

<p>Sets the value of the header, appending it to the list of headers with that name.</p>

<h3 id="getheadername"><code>getHeader(name)</code></h3>

<p>Gets the value of the first header with the given name.</p>

<h3 id="getheadersname"><code>getHeaders(name)</code></h3>

<p>Gets the array of values for the headers with the given name.</p>

<h3 id="hasheadername"><code>hasHeader(name)</code></h3>

<p>Tests for the existence of a given header.</p>

<h3 id="parseheadername-idx"><code>parseHeader(name, idx)</code></h3>

<p><em>IncomingRequest and IncomingResponse only. Meant for internal use.</em></p>

<p>Parses the given header from a raw string based on the Grammar.</p>

<h3 id="sname-idx"><code>s(name, idx)</code></h3>

<p><em>IncomingRequest and IncomingResponse only. Meant for internal use.</em></p>

<p>Alias for <code>parseHeader</code>.</p>

<h3 id="tostring"><code>toString()</code></h3>

<p>Returns the SIP message as a String.</p>

<h3 id="replycode-reason-extraheaders-body-onsuccess-onfailure"><code>reply(code, reason, extraHeaders, body, onSuccess, onFailure)</code></h3>

<p><em>IncomingRequest only.</em></p>

<p>Reply to the incoming request.</p>

<h3 id="replyslcode-reason"><code>reply_sl(code, reason)</code></h3>

<p><em>IncomingRequest only.</em></p>

<p>Reply statelessly to the incoming request, bypassing any server transaction.</p>

<div class="dev">

  <!--  Outgoing Request -->

  <h2 class="no_toc" id="outgoingrequest">OutgoingRequest</h2>

  <h3 class="no_toc" id="construction">Construction</h3>

  <p><code>function (method, ruri, ua, params, extraHeaders, body)</code></p>

  <h3 class="no_toc" id="dependencies">Dependencies</h3>

  <ul>
<li>UA.C</li>
    <li>SIP.NameAddrHeader</li>
    <li>SIP.Utils.createRandomToken</li>
    <li>SIP.Utils.headerize</li>
    <li>SIP.C</li>
  </ul>
<h4 class="no_toc" id="injected">Injected</h4>

  <ul>
<li>UA.getLogger</li>
    <li>UA.configuration.displayName</li>
    <li>UA.configuration.uri</li>
    <li>UA.configuration.sipjsId</li>
    <li>UA.configuration.userAgentString</li>
  </ul>
<!--  Incoming Message --><h2 class="no_toc" id="incomingmessage">IncomingMessage</h2>

  <h3 class="no_toc" id="construction-1">Construction</h3>

  <p><code>function ()</code></p>

  <h3 class="no_toc" id="dependencies-1">Dependencies</h3>

  <ul>
<li>SIP.Utils.headerize</li>
    <li>SIP.Grammar</li>
  </ul>
<!-- Incoming Request --><h2 class="no_toc" id="incomingrequest">IncomingRequest</h2>

  <h3 class="no_toc" id="construction-2">Construction</h3>

  <p><code>function (ua)</code></p>

  <h3 class="no_toc" id="dependencies-2">Dependencies</h3>

  <ul>
<li>SIP.Utils.newTag</li>
    <li>SIP.C</li>
  </ul>
<h4 class="no_toc" id="injected-1">Injected</h4>

  <ul>
<li>UA.getLogger</li>
    <li>UA.contact</li>
    <li>UA.configuration.rel100</li>
    <li>Transaction.receiveResponse</li>
    <li>Transport.send</li>
  </ul>
<!-- Incoming Response --><h2 class="no_toc" id="incomingresponse">IncomingResponse</h2>

  <h3 class="no_toc" id="construction-3">Construction</h3>

  <p><code>function (ua)</code></p>

  <h3 class="no_toc" id="dependencies-3">Dependencies</h3>

  <ul>
<li>Injected: UA</li>
  </ul>
</div>
		</div>

		<nav id="sideNav">
  <ul>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/">Overview</a>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/ua/">SIP.UA</a>
      <ul>
        <li><a href="/api/0.6.0/ua/#construction">Construction</a></li>
        <li><a href="/api/0.6.0/ua/#instance-methods">Instance Methods</a></li>
        <li><a href="/api/0.6.0/ua/#events">Events</a></li>
      </ul>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/context/">Contexts (Client/Server)</a>
      <ul>
        <li><a href="/api/0.6.0/context/client">SIP.ClientContext</a></li>
        <li><a href="/api/0.6.0/context/server">SIP.ServerContext</a></li>
      </ul>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/session/">SIP.Session</a>
      <ul>
        <li><a href="/api/0.6.0/session/#construction">Construction</a></li>
        <li><a href="/api/0.6.0/session/#instance-variables">Instance Variables</a></li>
        <li><a href="/api/0.6.0/session/#instance-methods">Instance Methods</a></li>
        <li><a href="/api/0.6.0/session/#events">Events</a></li>
      </ul>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/subscription/">SIP.Subscription</a>
      <ul>
        <li><a href="/api/0.6.0/subscription/#construction">Construction</a></li>
        <li><a href="/api/0.6.0/subscription/#instance-variables">Instance Variables</a></li>
        <li><a href="/api/0.6.0/subscription/#instance-methods">Instance Methods</a></li>
        <li><a href="/api/0.6.0/subscription/#events">Events</a></li>
      </ul>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/message/">SIP.Message</a>
      <ul>
        <li><a href="/api/0.6.0/message/#construction">Construction</a></li>
        <li><a href="/api/0.6.0/message/#instance-variables">Instance Variables</a></li>
        <li><a href="/api/0.6.0/message/#instance-methods">Instance Methods</a></li>
        <li><a href="/api/0.6.0/message/#events">Events</a></li>
      </ul>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/uri/">SIP.URI</a>
      <ul>
        <li><a href="/api/0.6.0/uri/#construction">Construction</a></li>
        <li><a href="/api/0.6.0/uri/#instance-methods">Instance Methods</a></li>
	<li><a href="/api/0.6.0/uri/#static-methods">Static Methods</a></li>
      </ul>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/transport/">SIP.Transport</a>
      <ul>
        <li><a href="/api/0.6.0/transport/#construction">Construction</a></li>
        <li><a href="/api/0.6.0/transport/#instance-variables">Instance Variables</a></li>
	<li><a href="/api/0.6.0/transport/#instance-methods">Instance Methods</a></li>
      </ul>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/grammar/">SIP.Grammar</a>
      <ul>
        <li><a href="/api/0.6.0/grammar/#instance-variables">Instance Variables</a></li>
	<li><a href="/api/0.6.0/grammar/#methods">Methods</a></li>
      </ul>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/nameAddrHeader/">SIP.NameAddrHeader</a>
      <ul>
	<li><a href="/api/0.6.0/nameAddrHeader/#construction">Construction</a></li>
        <li><a href="/api/0.6.0/nameAddrHeader/#instance-variables">Instance Variables</a></li>
        <li><a href="/api/0.6.0/nameAddrHeader/#instance-methods">Instance Methods</a></li>
	<li><a href="/api/0.6.0/nameAddrHeader/#static-methods">Static Methods</a></li>
      </ul>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/eventEmitter/">SIP.EventEmitter</a>
      <ul>
        <li><a href="/api/0.6.0/eventEmitter/#construction">Construction</a></li>
        <li><a href="/api/0.6.0/eventEmitter/#instance-methods">Instance Methods</a></li>
      </ul>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/ua_configuration_parameters/">UA Configuration Parameters</a>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/mediaHandler/">WebRTC Media Handler</a>
      <ul>
        <li><a href="/api/0.6.0/mediaHandler/#instance-variables">Instance Variables</a></li>
        <li><a href="/api/0.6.0/mediaHandler/#instance-methods">Instance Methods</a></li>
      </ul>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/sipMessage/">SIP Messages</a>
      <ul>
        <li><a href="/api/0.6.0/sipMessage/#instance-variables">Instance Variables</a></li>
        <li><a href="/api/0.6.0/sipMessage/#instance-methods">Instance Methods</a></li>
      </ul>
    </li>
    <li class="parent">
      <a class="parent" href="/api/0.6.0/causes/">Failure and End Causes</a>
      <ul>
        <li><a href="/api/0.6.0/causes/#common-causes">Common Causes</a></li>
        <li><a href="/api/0.6.0/causes/#sip-error-causes">Sip Error Causes</a></li>
        <li><a href="/api/0.6.0/causes/#session-causes">Session Causes</a></li>
      </ul>
    </li>
  </ul>
</nav>


	</article>

	<footer class="light-gray-bg">
  <div class="wrapper">
    <div id="onsip-stamp">
      <span id="made-by-prefix">made by</span>
      <a href="https://www.onsip.com/webrtc-sip-network" id="onsip"></a>
    </div>
    <nav class="left">
      <ul class="horizontal">
        <li><a href="https://groups.google.com/forum/#!forum/sip_js" target="_blank">Mailing List</a></li>
        <li><a href="https://github.com/onsip/sip.js/issues" target="_blank">Report Issues</a></li>
        <li><a href="/license/">License</a></li>
      </ul>
    </nav>
    <nav class="right">
      <ul class="horizontal">
        <li><a href="http://onsip.com/blog" target="_blank">Blog</a></li>
        <li><a href="/aboutus/">About</a></li>
        <li><a href="/faq/">FAQ</a></li>
      </ul>
    </nav>
    <div class="clearfix"></div>
  </div>
</footer>
<script src="/shared/js/retina.js" type="text/javascript"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1008379-16', 'sipjs.com');
  ga('send', 'pageview');
</script>
<script>
  // Remove all 'no-js-hide' classes because Javascript is working
  $(function () {
      $('.no-js-hide').each(function (i, e) {
          $(e).removeClass('no-js-hide');
      });
      $('.no-js-block').each(function (i, e) {
          $(e).removeClass('no-js-block');
      });
  });
</script>

<!-- Start Quantcast Tag -->
<script type="text/javascript">
var _qevents = _qevents || [];

(function() {
var elem = document.createElement('script');
elem.src = (document.location.protocol == "https:" ? "https://secure" : "http://edge") + ".quantserve.com/quant.js";
elem.async = true;
elem.type = "text/javascript";
var scpt = document.getElementsByTagName('script')[0];
scpt.parentNode.insertBefore(elem, scpt);
})();

_qevents.push(
{qacct:"p-WYGLU06W2MTuE",labels:"_fp.event.SIPjs Homepage"}
);
</script>
<noscript>
<img src="//pixel.quantserve.com/pixel/p-WYGLU06W2MTuE.gif?labels=_fp.event.SIPjs+Homepage" style="display: none;" border="0" height="1" width="1" alt="Quantcast"/>
</noscript>
<!-- End Quantcast tag -->


</body>
</html>
